# 眼动追踪教程开发记录

## 2024-03-27 教程界面开发总结

### 整体开发思路

1. **页面结构设计**
   - 采用分页式设计，将教程分为三个主要页面：首页、内容页和完成页
   - 使用纯前端实现，确保轻量级和快速响应
   - 采用现代化的UI设计，包括渐变背景、卡片式布局和平滑过渡动画

2. **交互流程设计**
   - 首页：简单的欢迎界面，包含开始按钮
   - 内容页：实现自定义滚动条，通过注视上下区域实现翻页
   - 完成页：右上角显示完成提示，便于最终校准

### 技术难点及解决方案

1. **滚动条实现**
   - 难点：需要实现自定义滚动条，并确保其响应眼动控制
   - 解决：使用固定位置的div实现滚动条，通过JavaScript控制内容滚动
   - 优化：添加20像素的点击区域，便于眼动控制的精确定位

2. **页面切换逻辑**
   - 难点：确保页面切换流畅，且标注区域正确更新
   - 解决：使用display属性控制页面切换，通过setTimeout实现延迟切换
   - 优化：在切换时清除并重新创建标注，避免标注残留问题

3. **区域标注系统**
   - 难点：需要准确标识所有可交互区域，并区分文字区和按钮区
   - 解决：使用半透明覆盖层标注区域，并添加清晰的文字标签
   - 优化：根据区域类型使用不同颜色（绿色表示文字区，蓝色表示按钮区）

### 眼动校准方案

1. **文字区校准**
   - 原理：利用用户阅读文字时的自然视线移动进行校准
   - 实现方法：
     * 将文字区域划分为多个独立区块
     * 记录用户阅读时的视线轨迹
     * 通过行间距判断换行动作（垂直移动超过20像素）
     * 每行取三个校准点：行首、行中、行尾
     * 行中点通过开始和结束时间的中点确定

2. **按钮区校准**
   - 原理：利用用户注视按钮时的固定视线位置进行校准
   - 实现方法：
     * 在固定位置设置清晰的按钮区域
     * 通过用户的注视停留时间确认有效的校准点
     * 特别关注滚动条上下按钮区域的校准点
     * 利用开始按钮作为屏幕中心的重要校准点

3. **校准数据处理**
   - 数据收集：
     * 文字区：记录每行阅读的起始点、中点和结束点
     * 按钮区：记录注视中心点和停留时长
   - 数据优化：
     * 使用时间加权平均处理重复校准点
     * 过滤掉停留时间过短的数据点
     * 建立校准点的置信度评分系统

### 创新点

1. **隐式校准**
   - 将校准过程融入教程内容，用户无需进行专门的校准
   - 通过自然的阅读和交互行为收集校准数据

2. **动态区域标注**
   - 实时显示可交互区域，提高用户理解度
   - 根据页面状态动态更新标注，确保准确性

3. **渐进式交互**
   - 从简单的按钮点击过渡到滚动控制
   - 通过提示信息引导用户完成操作

### 后续优化方向

1. **校准算法优化**
   - 引入机器学习模型，提高校准精度
   - 添加自适应校准，根据用户使用情况动态调整

2. **交互体验提升**
   - 添加更多视觉反馈
   - 优化动画效果，使过渡更加自然

3. **数据分析功能**
   - 添加用户行为数据收集
   - 实现校准质量评估系统

### 总结

本次开发通过将校准过程融入教程交互中，实现了一个自然且高效的眼动控制系统。通过精心设计的UI和交互逻辑，既保证了校准数据的质量，又提供了良好的用户体验。后续将继续优化算法和交互细节，进一步提升系统的准确性和易用性。 